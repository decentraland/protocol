syntax = "proto3";
package decentraland.sdk.components;

import "decentraland/sdk/components/common/id.proto";
option (common.ecs_component_id) = 1212;

enum PBAudioAnalysisMode {
    MODE_RAW = 0;
    MODE_LOGARITHMIC = 1;
}

message PBAudioAnalysis {
    PBAudioAnalysisMode mode = 1;

    // Used only when mode == MODE_LOGARITHMIC
    float amplitude_gain = 2;
    float bands_gain = 3;
    // End when mode == MODE_LOGARITHMIC

    float amplitude = 4;

    // Protobuf doesn't support fixed arrays -> 8 band fields
    float band_0 = 5;
    float band_1 = 6;
    float band_2 = 7;
    float band_3 = 8;
    float band_4 = 9;
    float band_5 = 10;
    float band_6 = 11;
    float band_7 = 12;

    // Future fields (keep numbering stable)
    // float spectral_centroid = 13;
    // float spectral_flux = 14;
    // bool onset = 15;
    // float bpm = 16;
}
