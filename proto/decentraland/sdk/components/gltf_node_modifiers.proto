syntax = "proto3";

package decentraland.sdk.components;

import "decentraland/sdk/components/common/id.proto";
import "decentraland/sdk/components/material.proto";

option (common.ecs_component_id) = 1099;

// GltfNodeModifiers component is to be used attached to entities that have the GltfContainer component.
//
// This allows to override either the Material or the Casting Shadows behaviour of the target GLTF Node.
// 
// * If the 'path' of the first modifier in the collection is an empty string: the configuration will
// affect all of the GLTF Nodes (as a global modifier).
// * Otherwise, for the modifiers whose 'path' is found in the GLTF hierarchy, the modifier will affect only
// the target Nodes.
message PBGltfNodeModifiers {
  message GltfNodeModifier {
    string path = 1; // The GLTF hierarchy path of the target Node to be affected
    optional bool cast_shadows = 2; // The casting shadows enabled override
    optional PBMaterial material = 3; // The Material that will be overridden on the target Node
  }
  repeated GltfNodeModifier modifiers  = 1;
}
